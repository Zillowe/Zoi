name: "Zoi"
packages:
  - name: "go"
    check: "go version"

commands:
  - cmd: "build"
    run: "./build/build.sh"
  - cmd: "build-r"
    run: "./build/build-release.sh"
  - cmd: "build-all"
    run: "./build/build-all.sh"
  - cmd: "archive"
    run: "./build/archive.sh"
  - cmd: "publish"
    run: "./build/publish.sh"
  - cmd: "test"
    run: "go test -v ./tests"

environments:
  - name: "Development"
    cmd: "dev"
    run: ["./build/build.sh"]
  - name: "Production"
    cmd: "prod"
    run: ["./build/build-all.sh"]

package:
  name: "Zoi"
  desc: "Universal Package Manager & Environment Setup Tool"
  handle: "zoi"
  website: "https://gitlab.com/Zillowe/Zillwen/Zusty/Zoi"
  repo: "https://gitlab.com/Zillowe/Zillwen/Zusty/Zoi.git"
  version: "1.0.0"
  installer: "https://gitlab.com/Zillowe/Zillwen/Zusty/Zoi/-/raw/main/app/install.{shellExt}"

depends:
  - handle: "git"
    version: "2.40.0"
    install:
      pm: "native"
      handle: "git"

build:
  cmd: "./build/build-release.{shellExt}"
  bin: "./build/compiled/zoi"
  depends:
    - handle: "go"
      version: "1.24.4"
      install:
        pm: "native"
        handle: "go"
